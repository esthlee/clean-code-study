# 4장 주석 

## 주석은 나쁜 코드를 보완하지 못한다. 
표현력이 풍부하고 깔끔하며 주석이 거의 없는 코드가, 복잡하고 어수선하며 주석이 많이 달린 코드보다 훨씬 좋다. 

## 좋은 주석
1. 법적인 주석 
- 때로는 회사가 정립한 표준에 맞춰 법적인 이유로 특정 주석을 넣으라고 명시한다. 
- 예를 들어, 각 소스 파일 첫머리에 주석으로 들어가는 저작권 정보와 소유권 정보는 필요하다고도 타당하다. 
```python 
# Copyright (C) 2003, 2004, 2005 by Object Mentor, Inc. All rights reserved.
# GNU General Public License HM 2 0J42 e= AHOS west. 버전 2 이상을 따르는 조건으로 배포한다

```
- 소스 파일 첫머리에 들어가는 주석이 반드시 계약 조건이나 법적인 정보일 필요는 없다. 열거보다는, 가능하다면, 표준 라이선스나 외부 문서를 참조해라. 

2. 정보를 제공하는 주석 
- 기본적인 정보를 주석으로 제공하면 편리하다. 하지만, 되도록이면, 함수 이름에 정보를 담아주는 편이 더 좋다. 

3. 의도를 설명하는 주석 
구현을 이해하게 도와주는 선을 넘어 결정에 깔린 의도까지 설명한다. 

4. 의미를 명료하게 밝히는 주석 
- 모호한 인수나 반환값은 그 의미를 읽기 좋게 표현하면 이해하기 쉬워진다. 
- 그릇된 주석을 달아놓을 위험이 상당히 높기 떄문에 정확히 달도록 각별히 주의한다.

5. 결과를 경고하는 주석 
다른 프로그래머에게 결과를 경고할 목적으로 주석을 사용한다.

```python 
def delete_folder_contents(folder_path):
    """
    주어진 폴더의 모든 내용을 삭제하는 함수.
    !!! 경고 !!!
    이 함수는 폴더 안의 모든 파일과 서브폴더를 **영구적으로 삭제**합니다.
    신중하게 사용하십시오.

    :param folder_path: 삭제할 대상 폴더의 경로
    """
    # 경고: 잘못된 경로를 삭제하지 않도록 확인
    if not os.path.exists(folder_path):
        raise FileNotFoundError(f"경고: 경로가 존재하지 않습니다: {folder_path}")
    
    if not os.path.isdir(folder_path):
        raise NotADirectoryError(f"경고: 지정된 경로는 폴더가 아닙니다: {folder_path}")

    print("!!! 주의: 폴더 내 모든 내용이 삭제됩니다. 실행 전에 경로를 다시 확인하세요. !!!")



- @Ignore 속성을 이용해 테스트 케이스 끈다. 구체적인 설명은 @Ignore (“실행이 너무 오래 걸린다.”) 라고 쓴다. -> Java
```python 
import unittest

class TestExample(unittest.TestCase):

    @unittest.skip("실행이 너무 오래 걸린다.")  # 테스트를 비활성화하고 이유를 명시
    def test_takes_too_long(self):
        """
        이 테스트는 비활성화되어 있습니다.
        이유: 실행이 너무 오래 걸립니다.
        """
        result = sum(i for i in range(1, 10**8))  # 매우 큰 반복 연산
        self.assertEqual(result, 4999999950000000)

    def test_normal_case(self):
        """
        정상적으로 실행되는 테스트 케이스입니다.
        """
        self.assertEqual(2 + 2, 4)

if __name__ == '__main__':
    unittest.main()
```

6. TODO 주석 
- 'to do list'를 #TODO 주석으로 남겨둔다.
- 보통 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다. 
- 더 이상 필요 없는 기능을 삭제하라는 알림, 누군가에게 문제를 봐달라는 요청, 더 좋은 이름을 떠올려달라는 부탁, 코드 고치라는 주의 등.
- 주기적으로 TODO 주석을 점검해, 없애도 괜찮은 주석은 없애라. 

```python 
# 현재 필요하지 않음.
# 체크아웃 모델을 도입하면 이 함수는 더 이상 필요하지 않습니다.

def make_version():
    """
    버전 정보를 생성하는 함수.
    현재는 구현되지 않음. 체크아웃 모델 도입 시 필요하지 않게 될 예정입니다.
    """
    pass  # 현재 기능이 필요하지 않음
```python 


7. 중요성을 강조하는 주석 
```python 
def process_item(item):
    """
    리스트 항목을 처리하는 함수.
    중요:
    - 문자열의 시작 공백과 끝 공백을 제거하지 않으면 잘못된 결과를 초래할 수 있습니다.
    """
    # 공백 제거: 시작과 끝의 불필요한 공백을 없앰
    item = item.strip()
    
    # 공백 제거 후 항목 처리
    print(f"처리된 항목: '{item}'")


# 테스트 코드
if __name__ == "__main__":
    raw_item = "   중요한 리스트 항목   "  # 공백이 포함된 문자열
    process_item(raw_item)
```python 

## 나쁜 주석 
1. 주절거리는 주석 
- 특별한 이유 없이 의무감으로 혹은 마지못해 주석을 단다면, 시간낭비다. 
- 이해가 안 되어 다른 모듈까지 찾아야하는 주석은 나쁜 주석이다. 
```python 
# 속성파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미다. ```

2. 같은 이야기를 중복하는 주석 

```python 
def add_numbers(a, b):
    # 두 숫자를 더하는 함수
    result = a + b  # a와 b를 더해서 result에 저장
    return result  # 결과를 반환
```

3. 오해할 여지가 있는 주석 
- 주석이 모호할 경우
```python 
def calculate_tax(income):
    # 세금을 계산하지만, 여기선 고정 세율을 사용합니다.
    tax = income * 0.2  # 세율이 하드코딩된 것처럼 보이지만, 실제 세율은 변동 가능
    return tax
```

4. 의무적으로 다는 주석 
모든 함수에 Javadocs 를 달거나 모든 변수에 주석을 달아야 한다는 규칙. 
5. 이력을 기록하는 주석 
- 모듈을 편집할 때마다 모듈 첫머리에 주석을 추가한다. 그리하여 모듈 첫머리 주석은 지금까지 모듈에 가한 변경을 모두 기록하는 일종의 로그가 된다. 
- 기록하고 관리하는 관례가 바람직했지만, 현재는 혼란만 주기 때문에, 제거하는 편이 좋다. 
```python 
def calculate_total_price(price, tax_rate=0.1):
    """
    상품 가격과 세율을 기반으로 총 가격을 계산하는 함수.
    
    변경 이력:
    - 2024-06-01: 초기 함수 작성 (작성자: 홍길동)
    - 2024-06-05: 세율 기본값을 0.1(10%)로 변경 (작성자: 김철수)
    - 2024-06-10: 입력 값 검증 로직 추가 (작성자: 이영희)
    """
    if price < 0:
        raise ValueError("가격은 음수일 수 없습니다.")
    
    return price + (price * tax_rate)
```

6. 위치를 표시하는 주석 
- 소스 파일에서 특정 위치를 표시하려 주석을 사용한다. 
- 이 주석은 반드시 필요할때만, 아주 드물게 사용하는 편이 좋고, 뒷 부분의 (=)로 이어지는 잡음은 제거하는 편이 좋다. 
```python 
# =============================
# Section 1: 유틸리티 함수 정의
# =============================

def add(a, b):
    """두 숫자를 더하는 함수."""
    return a + b

def subtract(a, b):
    """두 숫자를 빼는 함수."""
    return a - b ```

7. 닫는 괄호에 다는 주석 
- 중첩이 심하고 장황한 함수라면 의미가 있을지도 모르지만, 작고 캡슐화된 함수에는 잡음이다. 
```python 
def process_data(data):
    for item in data:  # 첫 번째 루프 시작
        if isinstance(item, list):  # 리스트인지 확인하는 조건문 시작
            for sub_item in item:  # 중첩된 루프 시작
                if sub_item > 10:  # 조건문 시작
                    print(f"큰 값: {sub_item}")
                # if sub_item > 10 끝
            # for sub_item 끝
        # if isinstance(item, list) 끝
    # for item 끝
# process_data 함수 끝
```

8. 공로를 돌리거나 저자를 표시하는 주석 
- 이와 같은 정보는 소스 코드 관리 시스템에 저장하는 편이 좋다. 
```python # 릭이 추가함 ```

9. 주석으로 처리한 코드
- 주석으로 처리된 코드는 다른 사람들이 지우기를 주저한다. 이유가 있어서 남겨놓았으리라고.
- 하지만, 사용되지 않는 것은 남겨둘 이유가 없다.

10. HTML 주석
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <title>HTML 주석 예제</title>
</head>
<body>
    <!-- 화면에 보이지 않는 주석 -->
    <h1>안녕하세요</h1>
    <p>이 문장은 주석이 아닙니다.</p>
    <!-- <p>이 문장은 주석으로 처리되어 화면에 보이지 않습니다.</p> -->
</body>
</html>
```

11. 전역 정보
- 주석을 달아야 한다면 근처에 있는 코드만 기술하라.
- 코드 일부에 주석을 달면서 시스템의 전반적인 정보를 기술하지 마라.

12. 너무 많은 정보
- 주석에다 흥미로운 역사나 관련없는 정보를 장황하게 늘어놓지 마라. 
```python
# 1 부 : 인터넷 메세지 본체 형식 
6.8 절. Base64 내용 전송 인코딩 
Multipurpose Internet Mail Extensions (MIME) 
625664 내용 전송 인 코 딩 
인코딩 과 정 은 입력 비트 중 24 비 트 그 룹 을 인 코 딩 된 4 글 자로 구성된 
문 자 열 로 표 현 한 다. 왼 쪽 에서 오 른 쪽 으로 진 행 해 가며, 3 개 를 묶어 8 비 트 입력 
그 룹 을 형 성 한 다. 이렇게 만들어진 24 비 트는 4 개 를 묶어 6 비 트 그 룹 으로 취 급 하며, 
각 각 은 635664 알 파 벳 에서 단일 자 릿 수 로 해 석 된다, 
685664 인 코 딩 으로 비트 스 트 림 을 인 코 딩 할 때, 비트 스 트 은 
1158(14105 51001[71080 81【) 우 선 으로 정 렬 되어 있다고 가 정 한다. 따라서, 스 트 림 에서 
첫 번째 비 트 는 첫 8 비 트 바 이 트 에서 최상위 비 트 가 되며, 여 덜 번째 비 는 첫 8 비 트 
바 이 트 에서 최하위 비 트 가 된다.
```

13. 모호한 관계
- 주석과 주석이 설명하는 코드는 둘 사이 관계가 명백해야된다.
```python
# 변수 선언
x = 10  # x는 10입니다.

# 조건이 참이면 x를 출력합니다.
if x > 5:  # x가 5보다 큽니다.
    print("x는 5보다 큽니다.")  # 출력합니다.
```

### 함수 헤더 
- 짧고 한가지만 수행하며 이름을 잘 부인 함수가 주석으로 헤더를 추가한 함수보다 훨씬 좋다.
- 함수 헤더: 함수의 정의를 나타내는 첫 번째 줄, ex. def 키워드, 함수 이름, 매개변수

### 비공개 코드에서 Javadocs 
- 공개 API 는 Javadocs 가 유용하지만 공개하지 않을 코드라면 Javadocs는 쓸모가 없다.
- 시스템 내부에 속한 클래스와 함수에 Javadocs를 생성할 필요는 없다. 산만해진다. 
